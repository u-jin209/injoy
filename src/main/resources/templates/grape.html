<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->

<!--    &lt;!&ndash; CSS only &ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->


<!--    &lt;!&ndash; JavaScript Bundle with Popper &ndash;&gt;-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>-->

<!--    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->

<!--&lt;!&ndash;    flatpickr 테만 변경 선택&ndash;&gt;-->
<!--    <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/material_blue.css" />-->

<!--    <title>Title</title>-->

<!--</head>-->
<!--<body class="vh-100">-->
<!--<div class="mx-auto col-5" style="margin-top: 10rem;">-->
<!--    <h1 class="text-center mb-3 text-secondary">Datetime Picker</h1>-->

<!--    <form action="/orange" name="frm">-->
<!--&lt;!&ndash;        <input class="form-control" type="datetime-local" placeholder="Select DateTime">&ndash;&gt;-->
<!--&lt;!&ndash;        <input class="form-control tmppp" placeholder="" name="test" id="test" value=""/>&ndash;&gt;-->
<!--        <input class="form-control tmppp" name="test" value="" />-->
<!--        <button>Button</button>-->
<!--    </form>-->

<!--</div>-->


<!--<script>-->
<!--    // flatpickr("input[type=datetime-local]", {-->
<!--    var fp = flatpickr(".tmppp", {-->
<!--        enableTime: true,-->
<!--        dateFormat: "Y-m-d H:i",-->
<!--        time_24hr: true,-->

<!--    });-->

<!--    fp.setDate('2022-07-09 14:30');-->

<!--</script>-->

<!--</body>-->
<!--</html>-->






<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cherry</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.7.0/main.min.css">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js'></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!--    flatpickr-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!--    flatpickr 테만 변경 선택-->
    <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/material_blue.css"/>

    <!--    부트스트랩 -->
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>

    <style>
        #scheduleTitle {
            border: none;
            border-bottom: 1px solid rgba(0, 0, 0, 0.5);
            width: 100%;
            height: 60px;
        }
        #scheduleTitle::placeholder {
            font-size: 20px;
            font-weight: bold;
        }
        .writeScheduleContent {
            width: 434px;
            min-height: 200px;
            border: none;
        }


        /*캘린더 이벤트 폰트 설정*/
        .fc-event {
            font-weight: bold;
        }


        /*여기서부터 옆 슬라이드 CSS*/
        .show-header-cart {
            visibility: visible;
            background-color: rgba(0, 0, 0, 0.6);
        }
        .show-header-cart .header-cart {
            right: 0;
        }
        .wrap-header-cart {
            position: fixed;
            z-index: 1100;
            width: 100%;
            height: 100vh;
            top: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.0);
            visibility: hidden;

            -webkit-transition: all 0.4s;
            -o-transition: all 0.4s;
            -moz-transition: all 0.4s;
            transition: all 0.4s;
        }
        .header-cart {
            position: fixed;
            z-index: 1100;
            /*width: 390px;*/
            /*width: 500px;*/
            width: 600px;
            max-width: calc(100% - 30px);
            height: 100vh;
            top: 0;
            right: -600px;
            background-color: #fff;

            -webkit-transition: all 0.4s;
            -o-transition: all 0.4s;
            -moz-transition: all 0.34s;
            transition: all 0.4s;

            box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -moz-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -webkit-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -o-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -ms-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
        }
        .header-cart::after {
            content: "";
            display: block;
            width: 100%;
            height: 9%;
            min-height: 30px;
        }
        .show-header-cart {
            visibility: visible;
            background-color: rgba(0, 0, 0, 0.6);
        }
        .show-header-cart .header-cart {
            right: 0;
        }

    </style>

</head>
<body>
<h1>Hello World from C h e r r y</h1>
<div id='calendar'></div>


<p th:text="${tmp}"></p>

<!--  일정 등록하기-->
<div class="modal" id="addScheduleModal" tabindex="-1" aria-labelledby="addTaskModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content p-3">
            <div class="modal-header">
                            <span class="modal-title mr-2" id="addTaskModalLabel" style="font-weight: bold">
                                일정 작성
                            </span>
                <span>프로젝트명</span>

                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        onclick="closeModal()"></button>
            </div>


            <form name="frm" action="/watermelon" method="get">
                <div class="modal-body text-start">
                    <div>
                        <input id="scheduleTitle" name="scheduleTitle" placeholder="제목을 입력하세요" style=""/>
                        <label for="scheduleTitle"></label>
                    </div>
                    <div>
                        <div class="mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                 class="bi bi-calendar-check mr-3" viewBox="0 0 16 16">
                                <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                            </svg>
                            <label>

                                <input class="mr-2 scheduleStartDate startCalDate"
                                       style="border: none; border-bottom: 1px solid #777777" name="startDate"
                                       value=""/>
                            </label>
                            ㅡ
                            <label>
                                <input class="ml-2 scheduleEndDate endCalDate"
                                       style="border: none; border-bottom: 1px solid #777777" name="endDate"
                                       value=""/>
                            </label>
                        </div>
                        <div class="mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                 class="bi bi-person mr-3" viewBox="0 0 16 16">
                                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                            </svg>
                            참여자 추가
                        </div>
                        <div class="mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                 class="bi bi-geo-alt-fill mr-3" viewBox="0 0 16 16">
                                <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
                            </svg>
                            <label>
                                <input class="schedulePlace" placeholder="장소를 입력해주세요." style="border: none;"/>
                            </label>
                        </div>
                        <div class="mb-5">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                 class="bi bi-clipboard2-check mr-3" viewBox="0 0 16 16">
                                <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z"/>
                                <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z"/>
                                <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3Z"/>
                            </svg>
                            <label>
                                <input class="writeScheduleContent" placeholder="내용을 입력하세요." style="border: none;"/>
                            </label>
                        </div>
                    </div>

                </div>
                <div class="modal-footer" style="justify-content: space-between !important;">
                    <!--                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"-->
                    <!--                       class="bi bi-paperclip" viewBox="0 0 16 16">-->
                    <!--                      <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z"/>-->
                    <!--                  </svg>-->
                    <!--                      <button type="button" class="btn taskAddButton"-->
                    <button type="submit" class="btn taskAddButton"
                            style="background-color: #001542; color: white">등록
                    </button>
                </div>
            </form>

        </div>
    </div>
</div>


<!--  사이드 슬라이드  HTML -->
<div class="wrap-header-cart js-show-schedule">
    <div class="s-full js-hide-cart"></div>

    <div class="header-cart flex-col-l p-l-65 p-r-25">
        <div class="header-cart-title flex-w flex-sb-m p-b-8">
				<span class="mtext-103 cl2">
<!--					여기에 내용을 넣어주세용~-->
				</span>

            <div class="trans-04 js-hide-cart">
                <!--                  <div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart">-->
                <!--                      <i class="zmdi zmdi-close"></i>-->
                <!--                  </div>-->
                <div style="width: 100%;display: flex;justify-content: end">
                    <div type="button" class="btn-close" aria-label="Close" onclick="closeTab()"></div>
                </div>
            </div>

            H e l l o W o r l d

        </div>
    </div>
</div>


<script>

    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            themeSystem: 'bootstrap5',
            initialView: 'dayGridMonth',
            locale: 'ko',
            editable: false,
            selectable: true,//드래그로 선택 가능...
            headerToolbar: { //Tool Bar
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
            },

            // dayMaxEvents: true, // 이벤트가 오버되면 높이 제한 (+ 몇 개식으로 표현)
            // expandRows: true, // 화면에 맞게 높이 재설정

            allDay: false,
            select: function (arg) { // 캘린더에서 드래그로 이벤트를 생성할 수 있다.
                $('#addScheduleModal').show();
                setDateTime(arg);

                calendar.unselect(); //이건 뭘까...
            },

            // eventColor : '#378006', //이벤트 디폴트 색상 정해줌.
            events: [ // 일정 데이터 추가 , DB의 event를 가져오려면 JSON 형식으로 변환해 events에 넣어주면된다.
                {
                    id: "1111",
                    title: 'this is first testing data.',
                    // start:'2023-04-10 12:30:00',
                    // end:'2023-04-13 00:01:00',
                    start: '2023-05-09 17:30',
                    end: '2023-05-12 00:01',
                    color: '#545de8',
                    // ,allDay: true//true로 하면, calendar에는 12일까지 밖에 표시가 안됨.
                },
                {
                    title: 'this is second testing data.',
                    // start:'2023-04-11 13:30:00',
                    // end:'2023-04-14 13:30:00',
                    start: '2023-05-10 00:01',
                    end: '2023-05-13 00:01',

                    // color: '#f5f21d',
                    color: '#ffff37',
                    textColor: 'black',
                    borderColor: "blue",
                    allDay: true//true면 end에서 하루 더 추가가 됨.
                },
                {
                    title: '하루일정입니다.',
                    start: '2023-05-25 13:30:00',
                    end: '2023-05-25 14:30:00',
                    // allDay: true
                }
            ],

            eventClick: function (event) {//이벤트 클릭 시
                // alert("이벤트가 발생이 됩니당~");
                var Obj = event.event;
                console.log("제목 : " + Obj.title);
                console.log("시작일 : " + Obj.start);
                console.log("끝 : " + Obj.end);

                $('.js-show-schedule').addClass('show-header-cart');
            },


        });
        var event = calendar.getEvents();
        console.log("tlqkf : " + event[0].id);
        console.log("tlqkf : " + event[0].title);
        console.log("tlqkf : " + event[0]);

        calendar.render();
    }); /////////////////////////////// E N D ///////////////////////////////


    function closeModal() {
        $('#addScheduleModal').hide();
    }

    var fpStart = flatpickr(".startCalDate", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        time_24hr: true,
    });
    var fpEnd = flatpickr(".endCalDate", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        time_24hr: true,
    });

    function setDateTime(arg) {//일정 드래그 후, start end에 값 세팅하는 메서드
        var end = new Date(new Date(arg.endStr).getTime() - 86400000);
        var endDate = dateFormat(end).toString();

        var start = new Date(arg.startStr);
        var startDate = dateFormat(start).toString();
        fpStart.setDate(startDate);
        fpEnd.setDate(endDate);
    }

    function dateFormat(date) {//yyyy-mm-dd 00:00(현재시간) 형식으로 반환하는 메서드
        let month = date.getMonth() + 1;
        let day = date.getDate();

        month = month >= 10 ? month : '0' + month;
        day = day >= 10 ? day : '0' + day;

        var today = new Date();
        var hours = ('0' + today.getHours()).slice(-2);
        var minutes = ('0' + today.getMinutes()).slice(-2);

        return date.getFullYear() + '-' + month + '-' + day + ' ' + hours + ':' + minutes;
    }

    // 사이드 스케줄
    function closeTab() {
        $('.js-show-schedule').removeClass('show-header-cart');
    }


</script>

</body>
</html>