<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>🍊오렌지를 먹은지 얼마나 오랜지🍊</title>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.7.0/main.min.css">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js'></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
            integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!--  <link rel="stylesheet" type="text/css" href="css/material-design-iconic-font.min.css">-->

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="path/to/material-design-iconic-font/css/material-design-iconic-font.min.css">


    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">


    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>


    <style>

        @font-face {
            font-family: 'Pretendard-Regular';
            src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
        }

        * {
            font-family: 'Pretendard-Regular', serif;

            border-collapse: collapse;
        }

        .show-header-cart {
            visibility: visible;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .show-header-cart .header-cart {
            right: 0;
        }

        .wrap-header-cart {
            position: fixed;
            z-index: 1100;
            width: 100%;
            height: 100vh;
            top: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.0);
            visibility: hidden;

            -webkit-transition: all 0.4s;
            -o-transition: all 0.4s;
            -moz-transition: all 0.4s;
            transition: all 0.4s;
        }

        .header-cart {
            overflow-y: scroll;
            position: fixed;
            z-index: 1100;
            /*width: 390px;*/
            /*width: 500px;*/
            width: 600px;
            /*max-width: calc(100% - 30px);*/
            height: 100vh;
            top: 0;
            right: -600px;
            background-color: #fff;

            -webkit-transition: all 0.4s;
            -o-transition: all 0.4s;
            -moz-transition: all 0.34s;
            transition: all 0.4s;

            box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -moz-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -webkit-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -o-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
            -ms-box-shadow: 0 3px 6px 0px rgba(0, 0, 0, 0.18);
        }

        .header-cart::after {
            content: "";
            display: block;
            width: 100%;
            height: 9%;
            min-height: 30px;
        }

        .show-header-cart {
            visibility: visible;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .show-header-cart .header-cart {
            right: 0;
        }

        .header-cart::-webkit-scrollbar { /* 스크롤 없애기 */
            display: none;
        }


        /*캘린더 사진*/
        .cal {
            display: inline-block;
            background-color: #FFF;
            width: 70px;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .cal .month {
            height: 30px;
            line-height: 30px;
            font-size: 0.75rem;
            text-transform: uppercase;
            background-color: #FFF;
            color: #00B19c;
            font-weight: 800;
        }

        .cal .date {
            font-size: 2rem;
            font-weight: bold;
            color: #FFF;
            line-height: 44px;
            background-color: #00B19c;
        }

        .date {
            border-radius: 0 0 10px 10px;
        }

        .month {
            border: 1px solid #CCCAC5;
            border-radius: 10px 10px 0 0;
        }

        .modal-footer {
            display: flex;
            flex-direction: row;
            justify-content: start;
        }


        /*                      댓글창                          */
        .comment-input-wrap {
            overflow: hidden;
            padding: 14px 30px;
        }

        .comment-input-wrap p {
            font-size: 14px;
            color: #555;
        }

        .user-profile-thumbnail {
            width: 40px;
            float: left;
        }

        .thumbnail.size40.radius16 {
            border-radius: 16px;
            cursor: default;
        }

        .thumbnail.size40 {
            width: 40px;
            height: 40px;
        }

        .thumbnail {
            display: inline-block;
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            background-color: #fff;
            border: 1px solid #eee;
            box-sizing: border-box;
            vertical-align: middle;
        }

        .comment-container {
            display: block;
            float: left;
            position: relative;
            width: calc(100% - 50px);
            margin-left: 10px;
            box-sizing: border-box;
        }

        .commentInput {
            width: 100%;
            padding: 11px 75px 11px 20px;
            min-height: 40px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            color: #555;
            word-break: break-word;
            white-space: pre-wrap;
            cursor: text;
        }
        /*                      댓글창                          */






        .cal2 {
            display: inline-block;
            background-color: #FFF;
            width: 105px;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .cal2 {
            height: 30px;
            line-height: 30px;
            font-size: 0.75rem;
            text-transform: uppercase;
            background-color: #FFF;
            color: #00B19c;
            font-weight: 800;
        }

        .cal2 .date2 {
            font-size: 1em;
            font-weight: bold;
            color: black;
            line-height: 30px;
            background-color:#eeeeee;
        }

        .date2 {
            border-radius: 5px;
        }
    </style>


    <script>
        var calendarObj;

        document.addEventListener('DOMContentLoaded', function () {
            $(function () {
                var calendarEll = document.getElementById('calendar');
                var calendarr = new FullCalendar.Calendar(calendarEll, {});
                console.log("시작 : " + calendarr.view.activeStart);
                console.log("끝 : " + calendarr.view.activeEnd);
                let data = {
                    "activeStart" : calendarr.view.activeStart,
                    "activeEnd" : calendarr.view.activeEnd
                }


                var request = $.ajax({
                    url: "/logic", // URL 새로운거로 다시 넣어주기
                    method: "GET",
                    dataType: "json",
                    data: data
                });


                request.done(function (data) {
                    console.log(data); // log 로 데이터 찍어주기.
                    var calendarEl = document.getElementById('calendar');
                    var calendar = new FullCalendar.Calendar(calendarEl, {


                        // month, week, day 선택바
                        headerToolbar: {
                            left: 'prev,next today',
                            center: 'title',
                            right: 'dayGridMonth,timeGridWeek,timeGridDay'
                        },
                        selectable: true, //캘린더에서 선택가능 여부
                        // dateClick: function (info) { //하루만 클립하면 작동되는 메서드.
                        //   alert('clicked ' + info.dateStr);
                        // },



                        select: function (info) {
                            alert('selected ' + info.startStr + ' to ' + info.endStr);
                        },

                        allDay: true,
                        events: data,

                        eventClick: function (event) {
                            // alert("이벤트가 발생됩니다. 여러분 이거 다 거짓말인거 아시죠~");
                            var Obj = event.event;
                            console.log("무야호 : " + Obj.title);
                            console.log("무야호 : " + Obj.start);
                            console.log("무야호 : " + Obj.end);
                            // console.log(data);
                            // console.log(data[0]);
                            // console.log(data[0].start);//이런식으로 사용가능
                            $('.js-panel-cart').addClass('show-header-cart');

                        }

                    });
                    console.log("현재 날짜 : " +  calendar.getDate());

                    console.log("hello world : " + calendar.view.title);
                    console.log("hello world : " + calendar.view.activeStart);
                    console.log("hello world : " + calendar.view.activeEnd);
                    calendarObj = calendar;


                    calendar.render();
                });

                request.fail(function (jqXHR, textStatus) {
                    alert("Request failed : " + textStatus);
                });

            });


        });//END


        // Next버튼을 누르면 달력 첫 번째, 마지막 날짜
        $(document).on("click", "#calendar .fc-prev-button", function(){
            console.log("pressed prev button");
            var calObj = calendarObj;
            console.log(calObj.view.activeStart);
            console.log(calObj.view.activeEnd);
        });

        // Prev버튼을 누르면 달력 첫 번째, 마지막 날짜
        $(document).on("click", "#calendar .fc-next-button", function(){
            console.log("pressed next button");
            var calObj = calendarObj;
            console.log(calObj.view.activeStart);
            console.log(calObj.view.activeEnd);
        });



        $('.js-hide-cart').on('click', function () {
            $('.js-panel-cart').removeClass('show-header-cart');
        });




        function closeTab() {
            $('.js-panel-cart').removeClass('show-header-cart');

        }

    </script>


</head>
<body>
<div id="calendar"></div>


<div class="wrap-header-cart js-panel-cart">
    <div class="s-full js-hide-cart"></div>

    <div class="header-cart flex-col-l p-l-65 p-r-25">

        <div class="header-cart-title flex-w flex-sb-m p-b-8">

            <div class="modal-header p-2">

                <div class="col-0.5">
                    <div style="width: 15px; height: 15px; border-radius: 4px; background-color: blue;margin-left: 10px"></div>
                </div>

                <div class="col-10" style="padding: 0;margin-right: 33px">
                    <span style="font-size: 12px">프로젝트 이름</span>
                </div>

                <div class="trans-04 js-hide-cart col-1.5">
                    <div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart">
                        <div type="button" class="btn-close" aria-label="Close" onclick="closeTab()"></div>
                    </div>
                </div>

            </div>

        </div>


        <div class="modal-body" style="padding: 10px; ">

            <div class="m-3" style="display: flex;">

                <div class="col-10" style="display: flex; padding: 0;">
                    <!--                    <span>프사</span>-->
                    <div class="user-profile-thumbnail">
                        <span class="thumbnail size40 radius16" style="background-image: url(/img/penguin.jpg)"></span>
                    </div>

                    <div class="m-2" style="display: flex;">
                        <div class="" style="font-size: 14px;"><strong>닉네임ffffsadfsdf</strong></div>
                        <div class="" style="font-size: 14px; color: #AAAAAA">2023-05-08 13:50</div>
                    </div>

                </div>

                <div class="col-2" style="display: flex; padding: 0;">
                    <a href="" style="font-size: 12px; font-weight: bolder; padding: 0;" class="col-10">게시글 보기 </a>
                    <!--          <div>구냥</div>-->
                    <div class="col-2">
                        <div class="dropdown">
                            <a class="bi bi-three-dots-vertical" type="button" id="dropdownMenuButton1"
                               data-bs-toggle="dropdown" aria-expanded="false"></a>

                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                <li><a class="dropdown-item" href="#" onclick="method()"><i class="bi bi-card-text"></i>
                                    수정</a></li>
                                <li><a class="dropdown-item" href="#" onclick="method()"><i class="bi bi-files"></i> 링크
                                    복사</a></li>
                                <li><a class="dropdown-item" href="#" onclick="method()"><i class="bi bi-trash3"></i> 삭제</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>


            <div class="m-3" style="display: flex;">
                <div class="col-2 m-1" style="padding: 0; ">
                    <div class="cal">
                        <div class="month">2023-12</div>
                        <div class="date">27</div>
                    </div>
                </div>

                <div class=" col-10 m-2">
                    <div class="">
                        프로젝트 이름을 넣어주세요~
                    </div>


                    <div class="" style="display: flex;">2023-05-16 (화), 12:40 2023-05-18 (목), 13:40</div>
                </div>
            </div>


            <hr>  <!--      선-->


            <div style="display: flex;">
                <div class="col-2">
                    <br>
                    <i class="bi bi-card-text"></i>
                </div>
                <div class="col-10">
                    <br>

                    <div>
                        여기는 내용이 들어가는 곳입니다.
                        여기는 내용이 들어가는 곳입니다. 나중에 수정해 주세요.
                        여기는 내용이 들어가는 곳입니다. 감사합니다.
                    </div>
                    <br>


                </div>
            </div>
        </div>


        <div>아 여기에 댓글 총 갯수 넣어야되는데</div>
        <!--        <hr class="" style="color: rgb(126,125,125);  height: 0.9px;">-->

        <div style="background-color: #eee">
            <hr class="" style="color: rgb(126,125,125);  height: 0.9px;">


            <ul class="comment_list" style=" list-style:none; padding: 0;">

                <li>
                    <div style="display: flex;" class="m-3">
                        <div class="col-1">
                            <span class="thumbnail size40 radius16"
                                  style="background-image: url(/img/penguin.jpg)"></span>
                        </div>

                        <div class="col-11">
                            <div style="display: flex; justify-content: space-between">

                                <div style="display: flex; flex-direction: row">
                                    <div class="" style="margin-right: 10px;"><strong>닉네이이임</strong></div>
                                    <div class="" style="font-size: 14px; padding-top: 3px; color: #AAAAAA;">2023-05-08
                                        14:12
                                    </div>
                                </div>

                                <div style="display: flex;flex-direction: row">


                                    <div class="" style="margin-right: 5px"><!--수정-->
                                        <a class="bi bi-pencil-square" type="button" style="color: #AAAAAA;" href="#"
                                           onclick="method()"></a>
                                    </div>
                                    <div class=""><!--삭제-->
                                        <a class="bi bi-trash3" type="button" style="color: #AAAAAA;" href="#"
                                           onclick="method()"></a>
                                    </div>
                                </div>
                            </div>

                            <div style="padding-top: 8px; font-size: 15px;">
                                여기는 댓글이
                                들어갑니다.fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff기붕니
                                오늘은 기분이 너무나 좋네요.
                            </div>

                        </div>
                    </div>
                    <hr style="color: rgb(126,125,125);">
                </li>


            </ul>


            <!--            <div>-->
            <!--&lt;!&ndash;                <hr>  &lt;!&ndash;        얇게 그리고 그림자 추가하기&ndash;&gt;&ndash;&gt;-->
            <!--                <div style="display: flex;" class="m-3">-->
            <!--                    <div class="col-1">프사</div>-->
            <!--                    <div class="col-11" style="display: flex;">-->
            <!--                        <div class="col-12" style="padding: 0;">-->
            <!--                            <input type="text" class="form-control" id="post_comment_input" placeholder="입력은 Enter 입니다🍓"-->
            <!--                                   onkeyup="if( window.event.keyCode==13){sendComment()}"/>&lt;!&ndash;이름 바꿔주기!!!!!!!!!!!!!!!!!&ndash;&gt;-->

            <!--                        </div>-->
            <!--                    </div>-->
            <!--                </div>-->
            <!--            </div>-->


            <div class="comment-input-wrap" style="background-color: #eee">
                <div class="user-profile-thumbnail">
                    <span class="thumbnail size40 radius16" style="background-image: url(/img/penguin.jpg)"></span>
                </div>

                <!--  <form class="comment-container" style="padding: 0;" >-->
                <div class="comment-container" style="padding: 0;">
                    <input type="text" class="commentInput" id="post_comment_input"
                           placeholder="댓글을 입력은 Enter 입니다."
                           aria-label="Recipient's username" aria-describedby="button-addon2"
                           onkeyup="if( window.event.keyCode==13){sendComment()}"/>
                    <!--  </form>-->
                </div>
            </div>


        </div>
    </div>


</div>



<script>

    function sendComment() {
        const commentInput = document.getElementById('post_comment_input');

        // 댓글 입력시 요소 생성
        const addNewComment = () => {
            const newCommentLocation = document.getElementsByClassName('comment_list')[0];
            const newComment = document.createElement('li');

            //   newComment.innerHTML = `
            //   <div class="user_desc">
            //     <span>닉네임</span>
            //     <span>${commentInput.value}</span>
            //   </div>
            // `;

            newComment.innerHTML = `
            <div style="display: flex;" class="m-3">
                        <div class="col-1">
                            <span class="thumbnail size40 radius16" style="background-image: url(/img/penguin.jpg)"></span>
                        </div>

                        <div class="col-11">
                            <div style="display: flex; justify-content: space-between">

                                <div style="display: flex; flex-direction: row">
                                    <div class="" style="margin-right: 10px;"><strong>닉네이이임</strong></div>
                                    <div class="" style="font-size: 14px; padding-top: 3px; color: #AAAAAA;">2023-05-08
                                        14:12
                                    </div>
                                </div>

                                <div style="display: flex;flex-direction: row">


                                    <div class="" style="margin-right: 5px"><!--수정-->
                                        <a class="bi bi-pencil-square" type="button" style="color: #AAAAAA;" href="#"
                                           onclick="method()"></a>
                                    </div>
                                    <div class=""><!--삭제-->
                                        <a class="bi bi-trash3" type="button" style="color: #AAAAAA;" href="#"
                                           onclick="method()"></a>
                                    </div>
                                </div>
                            </div>

                            <div style="padding-top: 8px; font-size: 15px;">
                                 ${commentInput.value}
                            </div>

                        </div>
                    </div>
                    <hr style="color: rgb(126,125,125);">

    `;

            // newComment.innerHTML += `<h5>이런식으로 추가가 가능합니다.</h5>`;


            newCommentLocation.appendChild(newComment);
            commentInput.value = '';
        }


        if (commentInput.value) {
            addNewComment();
        } else {
            alert('댓글이 입력되지 않았습니다 😳');
        }

    }


    function method() {
        alert("Hello World");
    }


</script>


</body>
</html>